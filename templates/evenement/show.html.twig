{% extends 'base.html.twig' %}

{% block title %}{{ evenement.nom }}{% endblock %}

{% block body %}
    <h1>{{ evenement.nom }}</h1>

    {% if is_granted('ROLE_ADMIN') %}
        <a href="{{ path('evenement_edit', {'slug': evenement.slug}) }}" class="btn btn-danger">
            <i class="far fa-edit"></i> Modifier
        </a>

        {{ include('evenement/_delete_form.html.twig') }}
    {% endif %}

    <div class="py-3">
        <p class="dateEvenement d-inline mr-3">
            <i class="far fa-clock"></i>
            Le {{ evenement.dateDebut ? evenement.dateDebut|localizeddate("none", "none", "fr", null, "cccc d MMMM Y") : '' }}
            à {{ evenement.heureDebut ? evenement.heureDebut|localizeddate("none", "none", "fr", null, "HH'h'mm") : '' }}
        </p>
        <p class="villeEvenement d-inline mr-3">
            <i class="far fa-building"></i>
            {{ evenement.lieu }}
        </p>
        {% if evenement.roleMinimum == 'ROLE_PRIVE' %}
        <span class="badge badge-info">Événement privé</span>
        {% endif %}<br>
    </div>

    <div class="pb-3">
        {{ evenement.teaser|nl2br }}
    </div>

    <div class="pb-3">
        {{ evenement.description|nl2br }}
    </div>

    {% if is_granted('ROLE_USER') and evenement.inscriptionPossible == true %}
        <table class="table">
            <tbody>
            <tr>
                <th>InscriptionPossible</th>
                <td>{{ evenement.inscriptionPossible ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>DateLimiteInscription</th>
                <td>{{ evenement.dateLimiteInscription ? evenement.dateLimiteInscription|date('Y-m-d') : '' }}</td>
            </tr>
            </tbody>
        </table>
        {# Faudra mettre de quoi gérér l'inscription ici #}
    {% elseif evenement.inscriptionPossible == false %}
        <h4>Les inscriptions ne sont pas possibles pour cet événement</h4>
    {% else %}
        <h4>Veuillez vous connecter pour pouvoir vous inscrire</h4>
    {% endif %}

{% endblock %}